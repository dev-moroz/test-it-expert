(function(){"use strict";var t={3346:function(t,e,n){var o=n(9242),a=n(3396),i=n(7139);const r={class:"main"},s=["disabled"],c={key:0,class:"cards"},l={class:"header_card"},d={class:"completed"},u={class:"not_completed"};function p(t,e,n,o,p,g){const f=(0,a.up)("Statistic"),h=(0,a.up)("Spinner");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("button",{class:(0,i.C_)(["loading_btn",{disabled:o.isLoading}]),disabled:o.isLoading,onClick:e[0]||(e[0]=(...t)=>o.getTodos&&o.getTodos(...t))}," Загрузить данные ",10,s),o.haveData?((0,a.wg)(),(0,a.iD)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.todos,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,class:"card"},[(0,a._)("div",l,[(0,a._)("p",null,"Пользователь "+(0,i.zw)(t.userId),1),(0,a._)("p",null,[(0,a._)("span",d,(0,i.zw)(t.completed),1),(0,a.Uk)(" / "),(0,a._)("span",u,(0,i.zw)(t.count-t.completed),1)])]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.partTitles(t.title),((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e},(0,i.zw)(t),1)))),128))])])))),128)),(0,a.Wm)(f,{data:o.todos},null,8,["data"])])):(0,a.kq)("",!0),o.isLoading?((0,a.wg)(),(0,a.j4)(h,{key:1})):(0,a.kq)("",!0)])}n(7658);var g=n(65);const f={class:"lds-dual-ring"};function h(t,e){return(0,a.wg)(),(0,a.iD)("div",f)}var m=n(89);const v={},b=(0,m.Z)(v,[["render",h]]);var y=b;function w(t,e,n,o,i,r){const s=(0,a.up)("apexchart");return(0,a.wg)(),(0,a.j4)(s,{class:"statistic",type:"bar",options:o.options,series:o.values},null,8,["options","series"])}var _=n(407),D=n.n(_),k={props:{data:Array},components:{apexchart:D()},setup(t){const e=(0,a.Fl)((()=>[{name:"completed = true",data:t.data.map((t=>t.completed))},{name:"completed = false",data:t.data.map((t=>t.count-t.completed))}])),n=(0,a.Fl)((()=>({chart:{type:"bar",height:300,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1}},xaxis:{categories:t.data.map((t=>`user - ${t.userId}`))},legend:{position:"right",offsetY:40},fill:{opacity:1}})));return{values:e,options:n}}};const L=(0,m.Z)(k,[["render",w]]);var O=L,j={components:{Spinner:y,Statistic:O},setup(){const t=(0,g.oR)(),e=()=>{t.dispatch("getData"),t.dispatch("changeIsLoading")},n=(0,a.Fl)((()=>t.getters.data)),o=(0,a.Fl)((()=>t.getters.isLoading)),i=(0,a.Fl)((()=>t.getters.haveData)),r=t=>{let e=t.splice(0,2);return e.push("..."),e};return{getTodos:e,todos:n,isLoading:o,haveData:i,partTitles:r}}};const x=(0,m.Z)(j,[["render",p]]);var I=x,T=(0,g.MT)({state:{data:{},isLoading:!1},getters:{data:t=>t.data.reduce(((t,e)=>{0===t.length&&t.push(e);let n=t.length-1;return t[n].userId===e.userId?(t[n].count+=1,t[n].completed+=e.completed,t[n].title!==e.title&&(t[n].title+=`, ${e.title}`)):t.push(e),t}),[]).map((t=>(t.title=t.title.split(","),t))).sort(((t,e)=>e.completed===t.completed?e.id-t.id:e.completed-t.completed)),isLoading:t=>t.isLoading,haveData:t=>t.data.length>0},mutations:{setData(t,e){t.data=e.map((t=>(1===t.userId?t.count=0:t.count=1,t)))},changeIsLoading(t){t.isLoading=!t.isLoading},cleanData(t){t.data={}}},actions:{getData({commit:t,dispatch:e}){t("cleanData"),fetch("https://jsonplaceholder.typicode.com/todos").then((t=>t.json())).then((n=>{t("setData",n),e("changeIsLoading")}))},changeIsLoading({commit:t}){t("changeIsLoading")}}});(0,o.ri)(I).use(T).mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,i){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],a=t[d][1],i=t[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(s=!1,i<r&&(r=i));if(s){t.splice(d--,1);var l=a();void 0!==l&&(e=l)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[o,a,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,i,r=o[0],s=o[1],c=o[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var d=c(n)}for(e&&e(o);l<r.length;l++)i=r[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(d)},o=self["webpackChunktest_it_expert"]=self["webpackChunktest_it_expert"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3346)}));o=n.O(o)})();
//# sourceMappingURL=app.6b2d62f3.js.map